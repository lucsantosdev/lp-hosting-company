const translations = {
  en: {
    nav_about: "About",
    nav_enterprise: "Enterprise",
    nav_security: "Security",
    nav_briefing: "Request a Briefing",
    hero_eyebrow: "Enterprise hosting for mission critical platforms",
    hero_subtitle:
      "Premium hosting, global edge reach, and white glove operations for technology leaders, financial institutions, and multinational brands.",
    hero_cta_primary: "Schedule a Strategy Call",
    hero_cta_secondary: "Meet AtlasEdge",
    metric_availability: "Availability",
    metric_global_pops: "Global PoPs",
    metric_sla: "SLA Response",
    metric_data_centers: "Data Centers",
    panel_title: "Built for regulated industries",
    panel_body:
      "SOC 2 Type II, ISO 27001, and GDPR ready operations with dedicated security engineers and compliance reporting.",
    panel_item_1: "Zero trust architecture",
    panel_item_2: "Dedicated single tenant stacks",
    panel_item_3: "24/7 enterprise support",
    about_title: "About AtlasEdge",
    about_body:
      "AtlasEdge is a technology hosting company built for enterprises that operate across borders, regulations, and time zones. We design resilient hosting environments that keep mission critical platforms fast, secure, and always on.",
    about_card1_title: "Global operations",
    about_card1_body:
      "Dedicated teams and data centers across North America, EMEA, and APAC.",
    about_card2_title: "Executive advisory",
    about_card2_body:
      "Strategy workshops, C-level reporting, and quarterly optimization reviews.",
    about_card3_title: "Governance by design",
    about_card3_body:
      "Compliance mapping, audit trails, and immutable backups for global audits.",
    about_trusted: "Trusted by fintech, healthcare, and global enterprise leaders",
    enterprise_title: "Enterprise hosting services",
    enterprise_body:
      "Purpose built services for mission critical digital platforms, data intensive applications, and multinational deployments.",
    enterprise_card1_title: "Edge accelerated performance",
    enterprise_card1_body:
      "Latency optimized hosting with multi region failover and traffic steering.",
    enterprise_card2_title: "Security and compliance",
    enterprise_card2_body: "Dedicated WAF, private networking, and compliance aligned operations.",
    enterprise_card3_title: "Dedicated cloud clusters",
    enterprise_card3_body:
      "High availability clusters with reserved capacity and premium SLAs.",
    plans_title: "Enterprise plans and commitments",
    plans_body: "Flexible contracts designed for large scale operations and growth.",
    plan1_name: "Edge Core",
    plan1_feature1: "Dedicated cluster",
    plan1_feature2: "12 global PoPs",
    plan1_feature3: "Managed security",
    plan1_feature4: "Compliance toolkit",
    plan1_feature5: "24/7 priority support",
    plan1_btn: "Request proposal",
    plan2_name: "Global Prime",
    plan2_feature1: "Multi region active active",
    plan2_feature2: "30 global PoPs",
    plan2_feature3: "Dedicated SRE pod",
    plan2_feature4: "Compliance reporting",
    plan2_feature5: "15 min SLA",
    plan2_btn: "Book executive demo",
    plan3_name: "Sovereign Cloud",
    plan3_feature1: "Data residency control",
    plan3_feature2: "On site and hybrid",
    plan3_feature3: "Custom compliance",
    plan3_feature4: "Dedicated governance",
    plan3_feature5: "Executive escalation",
    plan3_btn: "Schedule briefing",
    search_title: "Validate your global hosting footprint",
    search_body: "Request a free readiness review and portfolio assessment.",
    search_placeholder: "Enter your primary domain",
    search_submit: "Get assessment",
    contact_title: "Talk with an enterprise specialist",
    contact_body: "Share your goals and receive a tailored architecture roadmap within 24 hours.",
    contact_name: "Full name",
    contact_email: "Business email",
    contact_company: "Company",
    contact_message: "Tell us about scale, regions, and compliance needs",
    contact_submit: "Request consultation",
    footer_brand_body:
      "Enterprise hosting built for global operations, regulatory resilience, and mission critical uptime.",
    footer_company: "Company",
    footer_about: "About",
    footer_enterprise: "Enterprise",
    footer_security: "Security",
    footer_services: "Services",
    footer_edge: "Edge Hosting",
    footer_compliance: "Compliance",
    footer_strategy: "Strategy Briefing",
    footer_contact: "Contact",
    footer_desk: "Enterprise Desk",
    footer_copy: "AtlasEdge Hosting @ 2026",
    footer_locations: "New York | London | Singapore",
    dev_credit: "Designed and developed by",
  },
  pt: {
    nav_about: "Sobre",
    nav_enterprise: "Empresas",
    nav_security: "Seguranca",
    nav_briefing: "Solicitar briefing",
    hero_eyebrow: "Hospedagem corporativa para plataformas criticas",
    hero_subtitle:
      "Hospedagem premium, alcance global e operacao dedicada para lideres de tecnologia, instituicoes financeiras e marcas multinacionais.",
    hero_cta_primary: "Agendar chamada estrategica",
    hero_cta_secondary: "Conheca a AtlasEdge",
    metric_availability: "Disponibilidade",
    metric_global_pops: "PoPs globais",
    metric_sla: "Resposta SLA",
    metric_data_centers: "Data centers",
    panel_title: "Projetado para setores regulados",
    panel_body:
      "Operacoes prontas para SOC 2 Tipo II, ISO 27001 e GDPR com engenheiros de seguranca dedicados e relatorios de conformidade.",
    panel_item_1: "Arquitetura zero trust",
    panel_item_2: "Ambientes dedicados single tenant",
    panel_item_3: "Suporte corporativo 24/7",
    about_title: "Sobre a AtlasEdge",
    about_body:
      "A AtlasEdge e uma empresa de hospedagem tecnologica para corporacoes que operam entre fronteiras, regulacoes e fusos horarios. Criamos ambientes resilientes para manter plataformas criticas rapidas, seguras e sempre no ar.",
    about_card1_title: "Operacao global",
    about_card1_body: "Equipes dedicadas e data centers na America do Norte, EMEA e APAC.",
    about_card2_title: "Consultoria executiva",
    about_card2_body: "Workshops estrategicos, relatorios para o C-level e revisoes trimestrais.",
    about_card3_title: "Governanca por design",
    about_card3_body: "Mapeamento de compliance, trilhas de auditoria e backups imutaveis.",
    about_trusted: "Confiada por fintechs, saude e lideres globais",
    enterprise_title: "Servicos de hospedagem corporativa",
    enterprise_body:
      "Servicos sob medida para plataformas criticas, aplicacoes intensivas em dados e operacoes multinacionais.",
    enterprise_card1_title: "Performance acelerada no edge",
    enterprise_card1_body: "Hospedagem de baixa latencia com failover multirregional e roteamento inteligente.",
    enterprise_card2_title: "Seguranca e compliance",
    enterprise_card2_body: "WAF dedicado, rede privada e operacoes alinhadas a conformidade.",
    enterprise_card3_title: "Clusters cloud dedicados",
    enterprise_card3_body: "Alta disponibilidade com capacidade reservada e SLAs premium.",
    plans_title: "Planos e compromissos empresariais",
    plans_body: "Contratos flexiveis para operacoes de grande porte e crescimento.",
    plan1_name: "Edge Core",
    plan1_feature1: "Cluster dedicado",
    plan1_feature2: "12 PoPs globais",
    plan1_feature3: "Seguranca gerenciada",
    plan1_feature4: "Toolkit de compliance",
    plan1_feature5: "Suporte prioritario 24/7",
    plan1_btn: "Solicitar proposta",
    plan2_name: "Global Prime",
    plan2_feature1: "Multi regiao ativa ativa",
    plan2_feature2: "30 PoPs globais",
    plan2_feature3: "Squad SRE dedicada",
    plan2_feature4: "Relatorios de compliance",
    plan2_feature5: "SLA de 15 min",
    plan2_btn: "Agendar demo executiva",
    plan3_name: "Sovereign Cloud",
    plan3_feature1: "Controle de residencia de dados",
    plan3_feature2: "On site e hibrido",
    plan3_feature3: "Compliance personalizado",
    plan3_feature4: "Governanca dedicada",
    plan3_feature5: "Escalonamento executivo",
    plan3_btn: "Agendar briefing",
    search_title: "Valide seu footprint global",
    search_body: "Solicite uma revisao gratuita e avaliacao de portfolio.",
    search_placeholder: "Digite seu dominio principal",
    search_submit: "Solicitar avaliacao",
    contact_title: "Fale com um especialista",
    contact_body: "Compartilhe seus objetivos e receba um roadmap em ate 24 horas.",
    contact_name: "Nome completo",
    contact_email: "Email corporativo",
    contact_company: "Empresa",
    contact_message: "Conte sobre escala, regioes e necessidades de compliance",
    contact_submit: "Solicitar consultoria",
    footer_brand_body:
      "Hospedagem corporativa para operacoes globais, resiliencia regulatoria e uptime critico.",
    footer_company: "Empresa",
    footer_about: "Sobre",
    footer_enterprise: "Empresas",
    footer_security: "Seguranca",
    footer_services: "Servicos",
    footer_edge: "Edge Hosting",
    footer_compliance: "Compliance",
    footer_strategy: "Briefing estrategico",
    footer_contact: "Contato",
    footer_desk: "Atendimento corporativo",
    footer_copy: "AtlasEdge Hosting @ 2026",
    footer_locations: "Nova York | Londres | Singapura",
    dev_credit: "Design e desenvolvimento por",
  },
  es: {
    nav_about: "Nosotros",
    nav_enterprise: "Empresas",
    nav_security: "Seguridad",
    nav_briefing: "Solicitar briefing",
    hero_eyebrow: "Hosting empresarial para plataformas criticas",
    hero_subtitle:
      "Hosting premium, alcance global y operaciones dedicadas para lideres de tecnologia, instituciones financieras y marcas multinacionales.",
    hero_cta_primary: "Agendar llamada estrategica",
    hero_cta_secondary: "Conocer AtlasEdge",
    metric_availability: "Disponibilidad",
    metric_global_pops: "PoPs globales",
    metric_sla: "Respuesta SLA",
    metric_data_centers: "Centros de datos",
    panel_title: "Disenado para sectores regulados",
    panel_body:
      "Operaciones listas para SOC 2 Tipo II, ISO 27001 y GDPR con ingenieros de seguridad dedicados y reportes de cumplimiento.",
    panel_item_1: "Arquitectura zero trust",
    panel_item_2: "Entornos dedicados single tenant",
    panel_item_3: "Soporte empresarial 24/7",
    about_title: "Sobre AtlasEdge",
    about_body:
      "AtlasEdge es una empresa de hosting tecnologico para corporaciones que operan entre fronteras, regulaciones y zonas horarias. Disenamos entornos resilientes para mantener plataformas criticas rapidas, seguras y siempre activas.",
    about_card1_title: "Operacion global",
    about_card1_body: "Equipos dedicados y centros de datos en America del Norte, EMEA y APAC.",
    about_card2_title: "Asesoria ejecutiva",
    about_card2_body: "Workshops estrategicos, reportes para C-level y revisiones trimestrales.",
    about_card3_title: "Gobernanza por diseno",
    about_card3_body: "Mapeo de cumplimiento, auditorias y backups inmutables.",
    about_trusted: "Confiada por fintech, salud y lideres globales",
    enterprise_title: "Servicios de hosting empresarial",
    enterprise_body:
      "Servicios a medida para plataformas criticas, aplicaciones intensivas en datos y operaciones multinacionales.",
    enterprise_card1_title: "Rendimiento acelerado en edge",
    enterprise_card1_body: "Hosting de baja latencia con failover multirregional y enrutamiento inteligente.",
    enterprise_card2_title: "Seguridad y cumplimiento",
    enterprise_card2_body: "WAF dedicado, red privada y operaciones alineadas a compliance.",
    enterprise_card3_title: "Clusters cloud dedicados",
    enterprise_card3_body: "Alta disponibilidad con capacidad reservada y SLAs premium.",
    plans_title: "Planes y compromisos empresariales",
    plans_body: "Contratos flexibles para operaciones de gran escala y crecimiento.",
    plan1_name: "Edge Core",
    plan1_feature1: "Cluster dedicado",
    plan1_feature2: "12 PoPs globales",
    plan1_feature3: "Seguridad gestionada",
    plan1_feature4: "Toolkit de cumplimiento",
    plan1_feature5: "Soporte prioritario 24/7",
    plan1_btn: "Solicitar propuesta",
    plan2_name: "Global Prime",
    plan2_feature1: "Multi region activa activa",
    plan2_feature2: "30 PoPs globales",
    plan2_feature3: "Squad SRE dedicado",
    plan2_feature4: "Reportes de cumplimiento",
    plan2_feature5: "SLA de 15 min",
    plan2_btn: "Agendar demo ejecutiva",
    plan3_name: "Sovereign Cloud",
    plan3_feature1: "Control de residencia de datos",
    plan3_feature2: "On site e hibrido",
    plan3_feature3: "Cumplimiento personalizado",
    plan3_feature4: "Gobernanza dedicada",
    plan3_feature5: "Escalamiento ejecutivo",
    plan3_btn: "Agendar briefing",
    search_title: "Valide su footprint global",
    search_body: "Solicite una revision gratuita y evaluacion de portafolio.",
    search_placeholder: "Ingrese su dominio principal",
    search_submit: "Solicitar evaluacion",
    contact_title: "Hable con un especialista",
    contact_body: "Comparta sus objetivos y reciba un roadmap en hasta 24 horas.",
    contact_name: "Nombre completo",
    contact_email: "Email corporativo",
    contact_company: "Empresa",
    contact_message: "Cuente sobre escala, regiones y necesidades de cumplimiento",
    contact_submit: "Solicitar consultoria",
    footer_brand_body:
      "Hosting empresarial para operaciones globales, resiliencia regulatoria y uptime critico.",
    footer_company: "Empresa",
    footer_about: "Nosotros",
    footer_enterprise: "Empresas",
    footer_security: "Seguridad",
    footer_services: "Servicios",
    footer_edge: "Edge Hosting",
    footer_compliance: "Cumplimiento",
    footer_strategy: "Briefing estrategico",
    footer_contact: "Contacto",
    footer_desk: "Mesa empresarial",
    footer_copy: "AtlasEdge Hosting @ 2026",
    footer_locations: "Nueva York | Londres | Singapur",
    dev_credit: "Diseno y desarrollo por",
  },
};

const metricValues = {
  metric_availability: "99.99%",
  metric_global_pops: "42",
  metric_sla: "15 min",
  metric_data_centers: "18",
};

const metricKeys = [
  "metric_availability",
  "metric_global_pops",
  "metric_sla",
  "metric_data_centers",
];

const metricNodes = document.querySelectorAll("#metrics .metric-card");
let metricIndex = 0;

const applyTranslations = (lang) => {
  const dictionary = translations[lang] || translations.en;

  document.querySelectorAll("[data-i18n]").forEach((element) => {
    const key = element.getAttribute("data-i18n");
    if (dictionary[key]) {
      element.textContent = dictionary[key];
    }
  });

  document.querySelectorAll("[data-i18n-placeholder]").forEach((element) => {
    const key = element.getAttribute("data-i18n-placeholder");
    if (dictionary[key]) {
      element.setAttribute("placeholder", dictionary[key]);
    }
  });

  document.querySelectorAll("[data-i18n-value]").forEach((element) => {
    const key = element.getAttribute("data-i18n-value");
    if (dictionary[key]) {
      element.value = dictionary[key];
    }
  });

  metricNodes.forEach((node, idx) => {
    const metricKey = metricKeys[(metricIndex + idx) % metricKeys.length];
    const label = dictionary[metricKey] || translations.en[metricKey];
    node.querySelector(".metric-label").textContent = label;
    node.querySelector(".metric-value").textContent = metricValues[metricKey];
  });
};

const setLanguage = (lang) => {
  const language = translations[lang] ? lang : "en";
  document.documentElement.setAttribute("lang", language);
  applyTranslations(language);

  document.querySelectorAll(".lang-btn").forEach((button) => {
    button.classList.toggle("is-active", button.dataset.lang === language);
  });

  localStorage.setItem("preferredLanguage", language);
};

const savedLanguage = localStorage.getItem("preferredLanguage") || "en";
setLanguage(savedLanguage);

setInterval(() => {
  metricIndex = (metricIndex + 1) % metricKeys.length;
  const currentLang = document.documentElement.getAttribute("lang") || "en";
  applyTranslations(currentLang);
}, 4000);

document.querySelectorAll(".lang-btn").forEach((button) => {
  button.addEventListener("click", () => {
    setLanguage(button.dataset.lang);
  });
});

const navToggle = document.querySelector(".nav-toggle");
const navItems = document.querySelector(".navbar-items");

if (navToggle && navItems) {
  navToggle.addEventListener("click", () => {
    const isOpen = navItems.classList.toggle("is-open");
    navToggle.classList.toggle("is-open", isOpen);
    navToggle.setAttribute("aria-expanded", String(isOpen));
    navToggle.setAttribute("aria-label", isOpen ? "Close menu" : "Open menu");
  });

  navItems.addEventListener("click", (event) => {
    if (event.target.matches("a")) {
      navItems.classList.remove("is-open");
      navToggle.classList.remove("is-open");
      navToggle.setAttribute("aria-expanded", "false");
      navToggle.setAttribute("aria-label", "Open menu");
    }
  });
}
